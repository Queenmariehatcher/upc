.TH "include/barcode.inc" 3 "4 May 2008" "Version 0.2" "UPC Lookup" \" -*- nroff -*-
.ad l
.nh
.SH NAME
include/barcode.inc \- Functions for the handling of different barcodes. 
.SH SYNOPSIS
.br
.PP
.SS "Functions"

.in +1c
.ti -1c
.RI "\fBcheckBarcode\fP ($barcode)"
.br
.ti -1c
.RI "\fBgetBarcodeInfo\fP ($barcode)"
.br
.in -1c
.SH "Detailed Description"
.PP 
Functions for the handling of different barcodes. 

This file currently deals with the handling of barcodes and getting the information associated with them. 
.PP
Definition in file \fBbarcode.inc\fP.
.SH "Function Documentation"
.PP 
.SS "checkBarcode ($ barcode)"
.PP
Checks to see if a valid, handalable, barcode was entered. 
.PP
\fBParameters:\fP
.RS 4
\fI$barcode\fP The Barcode to be checked 
.RE
.PP
\fBReturns:\fP
.RS 4
The type of barcode entered if valid, FALSE if it is not 
.RE
.PP

.PP
Definition at line 16 of file barcode.inc.
.PP
References XMLRPC_prepare(), and XMLRPC_request().
.PP
.nf
16                                 {
17   switch ($_GET['type']) {
18     case 'upc':
22       $result = XMLRPC_request('dev.upcdatabase.com', '/rpc', 'lookupUPC', array(XMLRPC_prepare($barcode)));
23       if ($result[1] != 'Error: Invalid length') {
24         if (strlen($barcode) == 12) {
25           return 'upca';
26         }
27         else if (strlen($barcode) == 13) {
28           return 'ean13';
29         }
30         else {
31           return FALSE;
32         }
33       }
34       else {
35         return FALSE;
36       }
37       break;
38   }
39 }
.fi
.PP
.SS "getBarcodeInfo ($ barcode)"
.PP
Output Barcode Info 
.PP
\fBParameters:\fP
.RS 4
\fI$barcode\fP The barcode to lookup 
.RE
.PP
\fBReturns:\fP
.RS 4
HTML code to create the info area 
.RE
.PP
\fBSee also:\fP
.RS 4
\fBcheckBarcode\fP 
.RE
.PP

.PP
Definition at line 47 of file barcode.inc.
.PP
References getImages(), XMLRPC_prepare(), and XMLRPC_request().
.PP
.nf
47                                   {
48   switch ($_GET['type']) {
49     case 'upc':
53       $output = '';
54       $output .= '<div id='upc'>';
55       $output .= '<img src='upcimg.php?upc=' . $barcode . '' />';
56       $output .= '</div>';
57 
61       $result = XMLRPC_request('dev.upcdatabase.com', '/rpc', 'lookupUPC', array(XMLRPC_prepare($barcode)));
62 //    if ($debug) var_dump($result);
63       echo getImages($result[1]['description']);
64       if ($result[1]['found']) {
65         extract($result[1], EXTR_PREFIX_ALL, 'barcode');
66         $output .= <<<_HTML
67         <div id='info'>
68           <table align='center'>
69             <tr>
70               <td class='title'>Country</td>
71               <td>$barcode_issuerCountry</td>
72             </tr>
73             <tr>
74               <td class='title'>Description</td>
75               <td>$barcode_description</td>
76             </tr>
77             <tr>
78               <td class='title'>Size</td>
79               <td>$barcode_size</td>
80             </tr>
81           </table>
82           <a href='http://www.upcdatabase.com/editform.asp?upc=$barcode'>Modify this entry</a>
83           <a href='http://www.upcdatabase.com/deleteform.asp?upc=$barcode'>Delete this entry</a>
84         </div>
85 _HTML;
86       }
87       else {
88         $output .= 'Product Not Found!<br />';
89         $output .= '<a href='http://www.upcdatabase.com/addform.asp?upc=' . $barcode . ''>Add this item to the database</a>';
90       }
91 
92       return $output;
93       break;
94   }
95 }
.fi
.PP
.SH "Author"
.PP 
Generated automatically by Doxygen for UPC Lookup from the source code.
