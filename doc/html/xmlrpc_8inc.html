<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>UPC Lookup: include/xmlrpc.inc File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_1fc65542bf8a705781ea5a0b4e303822.html">include</a></div>
<h1>xmlrpc.inc File Reference</h1>XML-RPC Library. <a href="#_details">More...</a>
<p>

<p>
<a href="xmlrpc_8inc-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html">XML</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a> (&amp;$data, $level=0, $prior_key=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#ef8f3de498a12b230d049cdee6a25145">XML_unserialize</a> (&amp;$xml)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8">XMLRPC_parse</a> (&amp;$request)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#c13be54b26e0803d8745e4f019dcfd8a">XMLRPC_prepare</a> ($data, $type=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a> (&amp;$current_node)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#ce4ea8e1274ca2ee3f51ec5a724f00f3">XMLRPC_getParams</a> ($request)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#70efa062e92a380196ed8053850c0906">XMLRPC_getMethodName</a> ($methodCall)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a> ($site, $location, $methodName, $params=NULL, $user_agent=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f">XMLRPC_response</a> ($return_value, $server=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#0cdc54b1376ccbbe412175c9819a95ac">XMLRPC_error</a> ($faultCode, $faultString, $server=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#4485d809c5d598949d9cfaca42bddf37">XMLRPC_convert_timestamp_to_iso8601</a> ($timestamp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#1d9c2ef61c9f1fd2723d06d1364ef845">XMLRPC_convert_iso8601_to_timestamp</a> ($iso8601)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#88839ba2c5c835c99f55578c65faa401">count_numeric_items</a> (&amp;$array)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a> ($function_name, $debug_message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#8467f85edd385ddf2506b1bd5065a6d7">XMLRPC_debug_print</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a> ($data, $func=&quot;print_r&quot;, $return_str=false)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
XML-RPC Library. 
<p>
An XML-RPC implementation by Keith Devens, version 2.5f. <a href="http://www.keithdevens.com/software/xmlrpc/">http://www.keithdevens.com/software/xmlrpc/</a> Release history available at: <a href="http://www.keithdevens.com/software/xmlrpc/history/">http://www.keithdevens.com/software/xmlrpc/history/</a> This code is Open Source, released under terms similar to the Artistic License. Read the license at <a href="http://www.keithdevens.com/software/license/">http://www.keithdevens.com/software/license/</a> Note: this code requires version 4.1.0 or higher of PHP.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a href="http://keithdevens.com/software/xmlrpc">http://keithdevens.com/software/xmlrpc</a> </dd></dl>

<p>Definition in file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="88839ba2c5c835c99f55578c65faa401"></a><!-- doxytag: member="xmlrpc.inc::count_numeric_items" ref="88839ba2c5c835c99f55578c65faa401" args="(&amp;$array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count_numeric_items           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>array</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00465">465</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00104">XML::open()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00177">XMLRPC_prepare()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00465"></a>00465                                      {
<a name="l00466"></a>00466   <span class="keywordflow">return</span> is_array($array) ? count(array_filter(array_keys($array), 'is_numeric')) : 0;
<a name="l00467"></a>00467 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_88839ba2c5c835c99f55578c65faa401_icgraph.png" border="0" usemap="#xmlrpc_8inc_88839ba2c5c835c99f55578c65faa401_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_88839ba2c5c835c99f55578c65faa401_icgraph_map">
<area shape="rect" href="classXML.html#eac7eae74d866d4f5a0cdb9be27ff279" title="XML::open" alt="" coords="237,5,325,32"><area shape="rect" href="xmlrpc_8inc.html#c13be54b26e0803d8745e4f019dcfd8a" title="XMLRPC_prepare" alt="" coords="213,56,349,83"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="404,31,513,57"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="399,81,519,108"></map>
</div>

</div>
</div><p>
<a class="anchor" name="a1e9b05a06f28fabb86c10129f5890ef"></a><!-- doxytag: member="xmlrpc.inc::XML_serialize" ref="a1e9b05a06f28fabb86c10129f5890ef" args="(&amp;$data, $level=0, $prior_key=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; XML_serialize           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>level</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>prior_key</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00017">17</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00432">XMLRPC_error()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00336">XMLRPC_request()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00410">XMLRPC_response()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00017"></a>00017                                                                {
<a name="l00018"></a>00018 <span class="preprocessor">  #assumes a hash, keys are the variable names</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>  $xml_serialized_string = <span class="stringliteral">""</span>;
<a name="l00020"></a>00020   <span class="keywordflow">while</span>(list($key, $value) = each($data)){
<a name="l00021"></a>00021     $inline = <span class="keyword">false</span>;
<a name="l00022"></a>00022     $numeric_array = <span class="keyword">false</span>;
<a name="l00023"></a>00023     $attributes = <span class="stringliteral">""</span>;
<a name="l00024"></a>00024 <span class="preprocessor">    #echo "My current key is '$key', called with prior key '$prior_key'&lt;br&gt;";</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(!strstr($key, <span class="stringliteral">" attr"</span>)){ #<span class="keywordflow">if</span> it's not an attribute
<a name="l00026"></a>00026       <span class="keywordflow">if</span>(array_key_exists(<span class="stringliteral">"$key attr"</span>, $data)){
<a name="l00027"></a>00027         <span class="keywordflow">while</span>(list($attr_name, $attr_value) = each($data[<span class="stringliteral">"$key attr"</span>])){
<a name="l00028"></a>00028 <span class="preprocessor">          #echo "Found attribute $attribute_name with value $attribute_value&lt;br&gt;";</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>          $attr_value = &amp;htmlspecialchars($attr_value, ENT_QUOTES);
<a name="l00030"></a>00030           $attributes .= <span class="stringliteral">" $attr_name=\"$attr_value\""</span>;
<a name="l00031"></a>00031         }
<a name="l00032"></a>00032       }
<a name="l00033"></a>00033 
<a name="l00034"></a>00034       <span class="keywordflow">if</span>(is_numeric($key)){
<a name="l00035"></a>00035 <span class="preprocessor">        #echo "My current key ($key) is numeric. My parent key is '$prior_key'&lt;br&gt;";</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>        $key = $prior_key;
<a name="l00037"></a>00037       }<span class="keywordflow">else</span>{
<a name="l00038"></a>00038 <span class="preprocessor">        #you can't have numeric keys at two levels in a row, so this is ok</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">        #echo "Checking to see if a numeric key exists in data.";</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(is_array($value) and array_key_exists(0, $value)){
<a name="l00041"></a>00041 <span class="preprocessor">        # echo " It does! Calling myself as a result of a numeric array.&lt;br&gt;";</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>          $numeric_array = <span class="keyword">true</span>;
<a name="l00043"></a>00043           $xml_serialized_string .= <a class="code" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a>($value, $level, $key);
<a name="l00044"></a>00044         }
<a name="l00045"></a>00045 <span class="preprocessor">        #echo "&lt;br&gt;";</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>      }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048       <span class="keywordflow">if</span>(!$numeric_array){
<a name="l00049"></a>00049         $xml_serialized_string .= str_repeat(<span class="stringliteral">"\t"</span>, $level) . <span class="stringliteral">"&lt;$key$attributes&gt;"</span>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         <span class="keywordflow">if</span>(is_array($value)){
<a name="l00052"></a>00052           $xml_serialized_string .= <span class="stringliteral">"\r\n"</span> . <a class="code" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a>($value, $level+1);
<a name="l00053"></a>00053         }<span class="keywordflow">else</span>{
<a name="l00054"></a>00054           $inline = <span class="keyword">true</span>;
<a name="l00055"></a>00055           $xml_serialized_string .= htmlspecialchars($value);
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         $xml_serialized_string .= (!$inline ? str_repeat(<span class="stringliteral">"\t"</span>, $level) : <span class="stringliteral">""</span>) . <span class="stringliteral">"&lt;/$key&gt;\r\n"</span>;
<a name="l00059"></a>00059       }
<a name="l00060"></a>00060     }<span class="keywordflow">else</span>{
<a name="l00061"></a>00061 <span class="preprocessor">      #echo "Skipping attribute record for key $key&lt;bR&gt;";</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span>    }
<a name="l00063"></a>00063   }
<a name="l00064"></a>00064   <span class="keywordflow">if</span>($level == 0){
<a name="l00065"></a>00065     $xml_serialized_string = <span class="stringliteral">"&lt;?xml version=\"1.0\" ?&gt;\r\n"</span> . $xml_serialized_string;
<a name="l00066"></a>00066     <span class="keywordflow">return</span> $xml_serialized_string;
<a name="l00067"></a>00067   }<span class="keywordflow">else</span>{
<a name="l00068"></a>00068     <span class="keywordflow">return</span> $xml_serialized_string;
<a name="l00069"></a>00069   }
<a name="l00070"></a>00070 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_a1e9b05a06f28fabb86c10129f5890ef_icgraph.png" border="0" usemap="#xmlrpc_8inc_a1e9b05a06f28fabb86c10129f5890ef_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_a1e9b05a06f28fabb86c10129f5890ef_icgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#0cdc54b1376ccbbe412175c9819a95ac" title="XMLRPC_error" alt="" coords="173,5,291,32"><area shape="rect" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3" title="XMLRPC_request" alt="" coords="165,56,299,83"><area shape="rect" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f" title="XMLRPC_response" alt="" coords="160,107,304,133"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="359,31,468,57"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="353,81,473,108"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ef8f3de498a12b230d049cdee6a25145"></a><!-- doxytag: member="xmlrpc.inc::XML_unserialize" ref="ef8f3de498a12b230d049cdee6a25145" args="(&amp;$xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; XML_unserialize           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>xml</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00159">159</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00166">XMLRPC_parse()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00336">XMLRPC_request()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00159"></a>00159                                  {
<a name="l00160"></a>00160   $xml_parser = <span class="keyword">new</span> <a class="code" href="classXML.html">XML</a>();
<a name="l00161"></a>00161   $data = &amp;$xml_parser-&gt;parse(&amp;$xml);
<a name="l00162"></a>00162   $xml_parser-&gt;destruct();
<a name="l00163"></a>00163   <span class="keywordflow">return</span> $data;
<a name="l00164"></a>00164 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_ef8f3de498a12b230d049cdee6a25145_icgraph.png" border="0" usemap="#xmlrpc_8inc_ef8f3de498a12b230d049cdee6a25145_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_ef8f3de498a12b230d049cdee6a25145_icgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8" title="XMLRPC_parse" alt="" coords="184,5,304,32"><area shape="rect" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3" title="XMLRPC_request" alt="" coords="177,56,311,83"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="367,31,476,57"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="361,81,481,108"></map>
</div>

</div>
</div><p>
<a class="anchor" name="d936fe41ae9c3e0b90bd72ffe82a2969"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_adjustValue" ref="d936fe41ae9c3e0b90bd72ffe82a2969" args="(&amp;$current_node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; XMLRPC_adjustValue           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>current_node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00237">237</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00310">XMLRPC_getParams()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00336">XMLRPC_request()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00237"></a>00237                                              {
<a name="l00238"></a>00238   <span class="keywordflow">if</span>(is_array($current_node)){
<a name="l00239"></a>00239     <span class="keywordflow">if</span>(isset($current_node['array'])){
<a name="l00240"></a>00240       <span class="keywordflow">if</span>(!is_array($current_node['array']['data'])){
<a name="l00241"></a>00241 <span class="preprocessor">        #If there are no elements, return an empty array</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>        <span class="keywordflow">return</span> array();
<a name="l00243"></a>00243       }<span class="keywordflow">else</span>{
<a name="l00244"></a>00244 <span class="preprocessor">        #echo "Getting rid of array -&gt; data -&gt; value&lt;br&gt;\n";</span>
<a name="l00245"></a>00245 <span class="preprocessor"></span>        $temp = &amp;$current_node['array']['data']['value'];
<a name="l00246"></a>00246         <span class="keywordflow">if</span>(is_array($temp) and array_key_exists(0, $temp)){
<a name="l00247"></a>00247           $count = count($temp);
<a name="l00248"></a>00248           <span class="keywordflow">for</span>($n=0;$n&lt;$count;$n++){
<a name="l00249"></a>00249             $temp2[$n] = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$temp[$n]);
<a name="l00250"></a>00250           }
<a name="l00251"></a>00251           $temp = &amp;$temp2;
<a name="l00252"></a>00252         }<span class="keywordflow">else</span>{
<a name="l00253"></a>00253           $temp2 = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$temp);
<a name="l00254"></a>00254           $temp = array(&amp;$temp2);
<a name="l00255"></a>00255 <span class="preprocessor">          #I do the temp assignment because it avoids copying,</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span><span class="preprocessor">          # since I can put a reference in the array</span>
<a name="l00257"></a>00257 <span class="preprocessor"></span><span class="preprocessor">          #PHP's reference model is a bit silly, and I can't just say:</span>
<a name="l00258"></a>00258 <span class="preprocessor"></span><span class="preprocessor">          # $temp = array(&amp;XMLRPC_adjustValue(&amp;$temp));</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>        }
<a name="l00260"></a>00260       }
<a name="l00261"></a>00261     }elseif(isset($current_node['<span class="keyword">struct</span>'])){
<a name="l00262"></a>00262       <span class="keywordflow">if</span>(!is_array($current_node['<span class="keyword">struct</span>'])){
<a name="l00263"></a>00263 <span class="preprocessor">        #If there are no members, return an empty array</span>
<a name="l00264"></a>00264 <span class="preprocessor"></span>        <span class="keywordflow">return</span> array();
<a name="l00265"></a>00265       }<span class="keywordflow">else</span>{
<a name="l00266"></a>00266 <span class="preprocessor">        #echo "Getting rid of struct -&gt; member&lt;br&gt;\n";</span>
<a name="l00267"></a>00267 <span class="preprocessor"></span>        $temp = &amp;$current_node['<span class="keyword">struct</span>']['member'];
<a name="l00268"></a>00268         <span class="keywordflow">if</span>(is_array($temp) and array_key_exists(0, $temp)){
<a name="l00269"></a>00269           $count = count($temp);
<a name="l00270"></a>00270           <span class="keywordflow">for</span>($n=0;$n&lt;$count;$n++){
<a name="l00271"></a>00271 <span class="preprocessor">            #echo "Passing name {$temp[$n][name]}. Value is: " . show($temp[$n][value], var_dump, true) . "&lt;br&gt;\n";</span>
<a name="l00272"></a>00272 <span class="preprocessor"></span>            $temp2[$temp[$n]['name']] = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$temp[$n]['value']);
<a name="l00273"></a>00273 <span class="preprocessor">            #echo "adjustValue(): After assigning, the value is " . show($temp2[$temp[$n]['name']], var_dump, true) . "&lt;br&gt;\n";</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span>          }
<a name="l00275"></a>00275         }<span class="keywordflow">else</span>{
<a name="l00276"></a>00276 <span class="preprocessor">          #echo "Passing name $temp[name]&lt;br&gt;\n";</span>
<a name="l00277"></a>00277 <span class="preprocessor"></span>          $temp2[$temp['name']] = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$temp['value']);
<a name="l00278"></a>00278         }
<a name="l00279"></a>00279         $temp = &amp;$temp2;
<a name="l00280"></a>00280       }
<a name="l00281"></a>00281     }<span class="keywordflow">else</span>{
<a name="l00282"></a>00282       $types = array('<span class="keywordtype">string</span>', '<span class="keywordtype">int</span>', 'i4', '<span class="keywordtype">double</span>', 'dateTime.iso8601', 'base64', '<span class="keywordtype">boolean</span>');
<a name="l00283"></a>00283       $fell_through = <span class="keyword">true</span>;
<a name="l00284"></a>00284       <span class="keywordflow">foreach</span>($types as $type){
<a name="l00285"></a>00285         <span class="keywordflow">if</span>(array_key_exists($type, $current_node)){
<a name="l00286"></a>00286 <span class="preprocessor">          #echo "Getting rid of '$type'&lt;br&gt;\n";</span>
<a name="l00287"></a>00287 <span class="preprocessor"></span>          $temp = &amp;$current_node[$type];
<a name="l00288"></a>00288 <span class="preprocessor">          #echo "adjustValue(): The current node is set with a type of $type&lt;br&gt;\n";</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span>          $fell_through = <span class="keyword">false</span>;
<a name="l00290"></a>00290           <span class="keywordflow">break</span>;
<a name="l00291"></a>00291         }
<a name="l00292"></a>00292       }
<a name="l00293"></a>00293       <span class="keywordflow">if</span>($fell_through){
<a name="l00294"></a>00294         $type = '<span class="keywordtype">string</span>';
<a name="l00295"></a>00295 <span class="preprocessor">        #echo "Fell through! Type is $type&lt;br&gt;\n";</span>
<a name="l00296"></a>00296 <span class="preprocessor"></span>      }
<a name="l00297"></a>00297       <span class="keywordflow">switch</span> ($type){
<a name="l00298"></a>00298         <span class="keywordflow">case</span> '<span class="keywordtype">int</span>': <span class="keywordflow">case</span> 'i4': $temp = (int)$temp;    <span class="keywordflow">break</span>;
<a name="l00299"></a>00299         <span class="keywordflow">case</span> '<span class="keywordtype">string</span>':         $temp = (string)$temp; <span class="keywordflow">break</span>;
<a name="l00300"></a>00300         <span class="keywordflow">case</span> '<span class="keywordtype">double</span>':         $temp = (double)$temp; <span class="keywordflow">break</span>;
<a name="l00301"></a>00301         <span class="keywordflow">case</span> '<span class="keywordtype">boolean</span>':        $temp = (bool)$temp;   <span class="keywordflow">break</span>;
<a name="l00302"></a>00302       }
<a name="l00303"></a>00303     }
<a name="l00304"></a>00304   }<span class="keywordflow">else</span>{
<a name="l00305"></a>00305     $temp = (string)$current_node;
<a name="l00306"></a>00306   }
<a name="l00307"></a>00307   <span class="keywordflow">return</span> $temp;
<a name="l00308"></a>00308 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_d936fe41ae9c3e0b90bd72ffe82a2969_icgraph.png" border="0" usemap="#xmlrpc_8inc_d936fe41ae9c3e0b90bd72ffe82a2969_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_d936fe41ae9c3e0b90bd72ffe82a2969_icgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#ce4ea8e1274ca2ee3f51ec5a724f00f3" title="XMLRPC_getParams" alt="" coords="213,5,371,32"><area shape="rect" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3" title="XMLRPC_request" alt="" coords="225,56,359,83"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="425,31,535,57"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="420,81,540,108"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1d9c2ef61c9f1fd2723d06d1364ef845"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_convert_iso8601_to_timestamp" ref="1d9c2ef61c9f1fd2723d06d1364ef845" args="($iso8601)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_convert_iso8601_to_timestamp           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iso8601</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00461">461</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00461"></a>00461                                                       {
<a name="l00462"></a>00462   <span class="keywordflow">return</span> strtotime($iso8601);
<a name="l00463"></a>00463 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4485d809c5d598949d9cfaca42bddf37"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_convert_timestamp_to_iso8601" ref="4485d809c5d598949d9cfaca42bddf37" args="($timestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_convert_timestamp_to_iso8601           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00455">455</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00455"></a>00455                                                         {
<a name="l00456"></a>00456 <span class="preprocessor">  #takes a unix timestamp and converts it to iso8601 required by XMLRPC</span>
<a name="l00457"></a>00457 <span class="preprocessor"></span><span class="preprocessor">  #an example iso8601 datetime is "20010822T03:14:33"</span>
<a name="l00458"></a>00458 <span class="preprocessor"></span>  <span class="keywordflow">return</span> date(<span class="stringliteral">"Ymd\TH:i:s"</span>, $timestamp);
<a name="l00459"></a>00459 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e2d2e97a8c1c560f5e96d58d60a02874"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_debug" ref="e2d2e97a8c1c560f5e96d58d60a02874" args="($function_name, $debug_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_debug           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>function_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>debug_message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00469">469</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00432">XMLRPC_error()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00166">XMLRPC_parse()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00336">XMLRPC_request()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00410">XMLRPC_response()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00469"></a>00469                                                      {
<a name="l00470"></a>00470   $GLOBALS['XMLRPC_DEBUG_INFO'][] = array($function_name, $debug_message);
<a name="l00471"></a>00471 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_e2d2e97a8c1c560f5e96d58d60a02874_icgraph.png" border="0" usemap="#xmlrpc_8inc_e2d2e97a8c1c560f5e96d58d60a02874_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_e2d2e97a8c1c560f5e96d58d60a02874_icgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#0cdc54b1376ccbbe412175c9819a95ac" title="XMLRPC_error" alt="" coords="192,5,309,32"><area shape="rect" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8" title="XMLRPC_parse" alt="" coords="191,56,311,83"><area shape="rect" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3" title="XMLRPC_request" alt="" coords="184,107,317,133"><area shape="rect" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f" title="XMLRPC_response" alt="" coords="179,157,323,184"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="377,81,487,108"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="372,132,492,159"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8467f85edd385ddf2506b1bd5065a6d7"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_debug_print" ref="8467f85edd385ddf2506b1bd5065a6d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_debug_print           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00473">473</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="index_8php-source.html#l00022">$debug</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00473"></a>00473                              {
<a name="l00474"></a>00474   <span class="keywordflow">if</span>($GLOBALS['XMLRPC_DEBUG_INFO']){
<a name="l00475"></a>00475     echo <span class="stringliteral">"&lt;table border=\"1\" width=\"100%\"&gt;\n"</span>;
<a name="l00476"></a>00476     <span class="keywordflow">foreach</span>($GLOBALS['XMLRPC_DEBUG_INFO'] as <a class="code" href="index_8php.html#85ae3e64cd40e9564adceb010085e9dd">$debug</a>){
<a name="l00477"></a>00477       echo <span class="stringliteral">"&lt;tr&gt;&lt;th style=\"vertical-align: top\"&gt;$debug[0]&lt;/th&gt;&lt;td&gt;$debug[1]&lt;/td&gt;&lt;/tr&gt;\n"</span>;
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479     echo <span class="stringliteral">"&lt;/table&gt;\n"</span>;
<a name="l00480"></a>00480     unset($GLOBALS['XMLRPC_DEBUG_INFO']);
<a name="l00481"></a>00481   }<span class="keywordflow">else</span>{
<a name="l00482"></a>00482     echo <span class="stringliteral">"&lt;p&gt;No debugging information available yet.&lt;/p&gt;"</span>;
<a name="l00483"></a>00483   }
<a name="l00484"></a>00484 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0cdc54b1376ccbbe412175c9819a95ac"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_error" ref="0cdc54b1376ccbbe412175c9819a95ac" args="($faultCode, $faultString, $server=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_error           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>faultCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>faultString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>server</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00432">432</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00017">XML_serialize()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00469">XMLRPC_debug()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00486">XMLRPC_show()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00432"></a>00432                                                                {
<a name="l00433"></a>00433   $array[<span class="stringliteral">"methodResponse"</span>][<span class="stringliteral">"fault"</span>][<span class="stringliteral">"value"</span>][<span class="stringliteral">"struct"</span>][<span class="stringliteral">"member"</span>] = array();
<a name="l00434"></a>00434   $temp = &amp;$array[<span class="stringliteral">"methodResponse"</span>][<span class="stringliteral">"fault"</span>][<span class="stringliteral">"value"</span>][<span class="stringliteral">"struct"</span>][<span class="stringliteral">"member"</span>];
<a name="l00435"></a>00435   $temp[0][<span class="stringliteral">"name"</span>] = <span class="stringliteral">"faultCode"</span>;
<a name="l00436"></a>00436   $temp[0][<span class="stringliteral">"value"</span>][<span class="stringliteral">"int"</span>] = $faultCode;
<a name="l00437"></a>00437   $temp[1][<span class="stringliteral">"name"</span>] = <span class="stringliteral">"faultString"</span>;
<a name="l00438"></a>00438   $temp[1][<span class="stringliteral">"value"</span>][<span class="stringliteral">"string"</span>] = $faultString;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440   $return = <a class="code" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a>($array);
<a name="l00441"></a>00441 
<a name="l00442"></a>00442   header(<span class="stringliteral">"Connection: close"</span>);
<a name="l00443"></a>00443   header(<span class="stringliteral">"Content-Length: "</span> . strlen($return));
<a name="l00444"></a>00444   header(<span class="stringliteral">"Content-Type: text/xml"</span>);
<a name="l00445"></a>00445   header(<span class="stringliteral">"Date: "</span> . date(<span class="stringliteral">"r"</span>));
<a name="l00446"></a>00446   <span class="keywordflow">if</span>($server){
<a name="l00447"></a>00447     header(<span class="stringliteral">"Server: $server"</span>);
<a name="l00448"></a>00448   }
<a name="l00449"></a>00449   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00450"></a>00450     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#0cdc54b1376ccbbe412175c9819a95ac">XMLRPC_error</a>', <span class="stringliteral">"&lt;p&gt;Sent the following error response:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($return, 'print_r', <span class="keyword">true</span>));
<a name="l00451"></a>00451   }
<a name="l00452"></a>00452   echo $return;
<a name="l00453"></a>00453 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_0cdc54b1376ccbbe412175c9819a95ac_cgraph.png" border="0" usemap="#xmlrpc_8inc_0cdc54b1376ccbbe412175c9819a95ac_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_0cdc54b1376ccbbe412175c9819a95ac_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef" title="XML_serialize" alt="" coords="180,5,287,32"><area shape="rect" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874" title="XMLRPC_debug" alt="" coords="171,56,296,83"><area shape="rect" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48" title="XMLRPC_show" alt="" coords="175,107,292,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="70efa062e92a380196ed8053850c0906"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_getMethodName" ref="70efa062e92a380196ed8053850c0906" args="($methodCall)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_getMethodName           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>methodCall</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00331">331</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00331"></a>00331                                           {
<a name="l00332"></a>00332 <span class="preprocessor">  #returns the method name</span>
<a name="l00333"></a>00333 <span class="preprocessor"></span>  <span class="keywordflow">return</span> $methodCall['methodCall']['methodName'];
<a name="l00334"></a>00334 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ce4ea8e1274ca2ee3f51ec5a724f00f3"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_getParams" ref="ce4ea8e1274ca2ee3f51ec5a724f00f3" args="($request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_getParams           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>request</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00310">310</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00237">XMLRPC_adjustValue()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00310"></a>00310                                    {
<a name="l00311"></a>00311   <span class="keywordflow">if</span>(!is_array($request['methodCall']['params'])){
<a name="l00312"></a>00312 <span class="preprocessor">    #If there are no parameters, return an empty array</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span>    <span class="keywordflow">return</span> array();
<a name="l00314"></a>00314   }<span class="keywordflow">else</span>{
<a name="l00315"></a>00315 <span class="preprocessor">    #echo "Getting rid of methodCall -&gt; params -&gt; param&lt;br&gt;\n";</span>
<a name="l00316"></a>00316 <span class="preprocessor"></span>    $temp = &amp;$request['methodCall']['params']['param'];
<a name="l00317"></a>00317     <span class="keywordflow">if</span>(is_array($temp) and array_key_exists(0, $temp)){
<a name="l00318"></a>00318       $count = count($temp);
<a name="l00319"></a>00319       <span class="keywordflow">for</span>($n = 0; $n &lt; $count; $n++){
<a name="l00320"></a>00320 <span class="preprocessor">        #echo "Serializing parameter $n&lt;br&gt;";</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span>        $temp2[$n] = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$temp[$n]['value']);
<a name="l00322"></a>00322       }
<a name="l00323"></a>00323     }<span class="keywordflow">else</span>{
<a name="l00324"></a>00324       $temp2[0] = &amp;<a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>($temp['value']);
<a name="l00325"></a>00325     }
<a name="l00326"></a>00326     $temp = &amp;$temp2;
<a name="l00327"></a>00327     <span class="keywordflow">return</span> $temp;
<a name="l00328"></a>00328   }
<a name="l00329"></a>00329 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_ce4ea8e1274ca2ee3f51ec5a724f00f3_cgraph.png" border="0" usemap="#xmlrpc_8inc_ce4ea8e1274ca2ee3f51ec5a724f00f3_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_ce4ea8e1274ca2ee3f51ec5a724f00f3_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969" title="XMLRPC_adjustValue" alt="" coords="212,5,369,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="708b2136ca600664d2207a511b3cf3f8"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_parse" ref="708b2136ca600664d2207a511b3cf3f8" args="(&amp;$request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; XMLRPC_parse           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>request</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00166">166</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00159">XML_unserialize()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00469">XMLRPC_debug()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00486">XMLRPC_show()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00166"></a>00166                                   {
<a name="l00167"></a>00167   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00168"></a>00168     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8">XMLRPC_parse</a>', <span class="stringliteral">"&lt;p&gt;Received the following raw request:&lt;/p&gt;"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($request, 'print_r', <span class="keyword">true</span>));
<a name="l00169"></a>00169   }
<a name="l00170"></a>00170   $data = &amp;<a class="code" href="xmlrpc_8inc.html#ef8f3de498a12b230d049cdee6a25145">XML_unserialize</a>(&amp;$request);
<a name="l00171"></a>00171   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00172"></a>00172     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8">XMLRPC_parse</a>', <span class="stringliteral">"&lt;p&gt;Returning the following parsed request:&lt;/p&gt;"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($data, 'print_r', <span class="keyword">true</span>));
<a name="l00173"></a>00173   }
<a name="l00174"></a>00174   <span class="keywordflow">return</span> $data;
<a name="l00175"></a>00175 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_708b2136ca600664d2207a511b3cf3f8_cgraph.png" border="0" usemap="#xmlrpc_8inc_708b2136ca600664d2207a511b3cf3f8_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_708b2136ca600664d2207a511b3cf3f8_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#ef8f3de498a12b230d049cdee6a25145" title="XML_unserialize" alt="" coords="177,5,300,32"><area shape="rect" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874" title="XMLRPC_debug" alt="" coords="176,56,301,83"><area shape="rect" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48" title="XMLRPC_show" alt="" coords="180,107,297,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c13be54b26e0803d8745e4f019dcfd8a"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_prepare" ref="c13be54b26e0803d8745e4f019dcfd8a" args="($data, $type=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; XMLRPC_prepare           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00177">177</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00465">count_numeric_items()</a>.</p>

<p>Referenced by <a class="el" href="barcode_8inc-source.html#l00020">checkBarcode()</a>, and <a class="el" href="barcode_8inc-source.html#l00066">getBarcodeInfo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00177"></a>00177                                               {
<a name="l00178"></a>00178   <span class="keywordflow">if</span>(is_array($data)){
<a name="l00179"></a>00179     $num_elements = count($data);
<a name="l00180"></a>00180     <span class="keywordflow">if</span>((array_key_exists(0, $data) or !$num_elements) and $type != '<span class="keyword">struct</span>'){ #it's an array
<a name="l00181"></a>00181       <span class="keywordflow">if</span>(!$num_elements){ #<span class="keywordflow">if</span> the array is empty
<a name="l00182"></a>00182         $returnvalue =  array('array' =&gt; array('data' =&gt; NULL));
<a name="l00183"></a>00183       }<span class="keywordflow">else</span>{
<a name="l00184"></a>00184         $returnvalue['array']['data']['value'] = array();
<a name="l00185"></a>00185         $temp = &amp;$returnvalue['array']['data']['value'];
<a name="l00186"></a>00186         $count = <a class="code" href="xmlrpc_8inc.html#88839ba2c5c835c99f55578c65faa401">count_numeric_items</a>($data);
<a name="l00187"></a>00187         <span class="keywordflow">for</span>($n=0; $n&lt;$count; $n++){
<a name="l00188"></a>00188           $type = NULL;
<a name="l00189"></a>00189           <span class="keywordflow">if</span>(array_key_exists(<span class="stringliteral">"$n type"</span>, $data)){
<a name="l00190"></a>00190             $type = $data[<span class="stringliteral">"$n type"</span>];
<a name="l00191"></a>00191           }
<a name="l00192"></a>00192           $temp[$n] = <a class="code" href="xmlrpc_8inc.html#c13be54b26e0803d8745e4f019dcfd8a">XMLRPC_prepare</a>(&amp;$data[$n], $type);
<a name="l00193"></a>00193         }
<a name="l00194"></a>00194       }
<a name="l00195"></a>00195     }<span class="keywordflow">else</span>{ #it's a <span class="keyword">struct</span>
<a name="l00196"></a>00196       <span class="keywordflow">if</span>(!$num_elements){ #<span class="keywordflow">if</span> the <span class="keyword">struct </span>is empty
<a name="l00197"></a>00197         $returnvalue = array('<span class="keyword">struct</span>' =&gt; NULL);
<a name="l00198"></a>00198       }<span class="keywordflow">else</span>{
<a name="l00199"></a>00199         $returnvalue['<span class="keyword">struct</span>']['member'] = array();
<a name="l00200"></a>00200         $temp = &amp;$returnvalue['<span class="keyword">struct</span>']['member'];
<a name="l00201"></a>00201         <span class="keywordflow">while</span>(list($key, $value) = each($data)){
<a name="l00202"></a>00202           <span class="keywordflow">if</span>(substr($key, -5) != ' type'){ #<span class="keywordflow">if</span> it's not a type specifier
<a name="l00203"></a>00203             $type = NULL;
<a name="l00204"></a>00204             <span class="keywordflow">if</span>(array_key_exists(<span class="stringliteral">"$key type"</span>, $data)){
<a name="l00205"></a>00205               $type = $data[<span class="stringliteral">"$key type"</span>];
<a name="l00206"></a>00206             }
<a name="l00207"></a>00207             $temp[] = array('name' =&gt; $key, 'value' =&gt; <a class="code" href="xmlrpc_8inc.html#c13be54b26e0803d8745e4f019dcfd8a">XMLRPC_prepare</a>(&amp;$value, $type));
<a name="l00208"></a>00208           }
<a name="l00209"></a>00209         }
<a name="l00210"></a>00210       }
<a name="l00211"></a>00211     }
<a name="l00212"></a>00212   }<span class="keywordflow">else</span>{ #it's a scalar
<a name="l00213"></a>00213     <span class="keywordflow">if</span>(!$type){
<a name="l00214"></a>00214       <span class="keywordflow">if</span>(is_int($data)){
<a name="l00215"></a>00215         $returnvalue['<span class="keywordtype">int</span>'] = $data;
<a name="l00216"></a>00216         <span class="keywordflow">return</span> $returnvalue;
<a name="l00217"></a>00217       }elseif(is_float($data)){
<a name="l00218"></a>00218         $returnvalue['<span class="keywordtype">double</span>'] = $data;
<a name="l00219"></a>00219         <span class="keywordflow">return</span> $returnvalue;
<a name="l00220"></a>00220       }elseif(is_bool($data)){
<a name="l00221"></a>00221         $returnvalue['<span class="keywordtype">boolean</span>'] = ($data ? 1 : 0);
<a name="l00222"></a>00222         <span class="keywordflow">return</span> $returnvalue;
<a name="l00223"></a>00223       }elseif(preg_match('/^\d{8}T\d{2}:\d{2}:\d{2}$/', $data, $matches)){ #it's a date
<a name="l00224"></a>00224         $returnvalue['dateTime.iso8601'] = $data;
<a name="l00225"></a>00225         <span class="keywordflow">return</span> $returnvalue;
<a name="l00226"></a>00226       }elseif(is_string($data)){
<a name="l00227"></a>00227         $returnvalue['<span class="keywordtype">string</span>'] = htmlspecialchars($data);
<a name="l00228"></a>00228         <span class="keywordflow">return</span> $returnvalue;
<a name="l00229"></a>00229       }
<a name="l00230"></a>00230     }<span class="keywordflow">else</span>{
<a name="l00231"></a>00231       $returnvalue[$type] = htmlspecialchars($data);
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233   }
<a name="l00234"></a>00234   <span class="keywordflow">return</span> $returnvalue;
<a name="l00235"></a>00235 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_cgraph.png" border="0" usemap="#xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#88839ba2c5c835c99f55578c65faa401" title="count_numeric_items" alt="" coords="191,5,348,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_icgraph.png" border="0" usemap="#xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_c13be54b26e0803d8745e4f019dcfd8a_icgraph_map">
<area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="196,5,305,32"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="191,56,311,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="3a98b6984b8ca01752d1aa9a267526a3"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_request" ref="3a98b6984b8ca01752d1aa9a267526a3" args="($site, $location, $methodName, $params=NULL, $user_agent=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_request           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>site</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>methodName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>user_agent</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00336">336</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00017">XML_serialize()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00159">XML_unserialize()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00237">XMLRPC_adjustValue()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00469">XMLRPC_debug()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00486">XMLRPC_show()</a>.</p>

<p>Referenced by <a class="el" href="barcode_8inc-source.html#l00020">checkBarcode()</a>, and <a class="el" href="barcode_8inc-source.html#l00066">getBarcodeInfo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00336"></a>00336                                                                                           {
<a name="l00337"></a>00337   $site = explode(<span class="charliteral">':'</span>, $site);
<a name="l00338"></a>00338   <span class="keywordflow">if</span>(isset($site[1]) and is_numeric($site[1])){
<a name="l00339"></a>00339     $port = $site[1];
<a name="l00340"></a>00340   }<span class="keywordflow">else</span>{
<a name="l00341"></a>00341     $port = 80;
<a name="l00342"></a>00342   }
<a name="l00343"></a>00343   $site = $site[0];
<a name="l00344"></a>00344 
<a name="l00345"></a>00345   $data[<span class="stringliteral">"methodCall"</span>][<span class="stringliteral">"methodName"</span>] = $methodName;
<a name="l00346"></a>00346   $param_count = count($params);
<a name="l00347"></a>00347   <span class="keywordflow">if</span>(!$param_count){
<a name="l00348"></a>00348     $data[<span class="stringliteral">"methodCall"</span>][<span class="stringliteral">"params"</span>] = NULL;
<a name="l00349"></a>00349   }<span class="keywordflow">else</span>{
<a name="l00350"></a>00350     <span class="keywordflow">for</span>($n = 0; $n&lt;$param_count; $n++){
<a name="l00351"></a>00351       $data[<span class="stringliteral">"methodCall"</span>][<span class="stringliteral">"params"</span>][<span class="stringliteral">"param"</span>][$n][<span class="stringliteral">"value"</span>] = $params[$n];
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353   }
<a name="l00354"></a>00354   $data = <a class="code" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a>($data);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00357"></a>00357     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Received the following parameter list to send:&lt;/p&gt;"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($params, 'print_r', <span class="keyword">true</span>));
<a name="l00358"></a>00358   }
<a name="l00359"></a>00359   $conn = fsockopen ($site, $port); #open the connection
<a name="l00360"></a>00360   <span class="keywordflow">if</span>(!$conn){ #<span class="keywordflow">if</span> the connection was not opened successfully
<a name="l00361"></a>00361     <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00362"></a>00362       <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Connection failed: Couldn't make the connection to $site.&lt;/p&gt;"</span>);
<a name="l00363"></a>00363     }
<a name="l00364"></a>00364     <span class="keywordflow">return</span> array(<span class="keyword">false</span>, array('faultCode'=&gt;10532, 'faultString'=&gt;<span class="stringliteral">"Connection failed: Couldn't make the connection to $site."</span>));
<a name="l00365"></a>00365   }<span class="keywordflow">else</span>{
<a name="l00366"></a>00366     $headers =
<a name="l00367"></a>00367       <span class="stringliteral">"POST $location HTTP/1.0\r\n"</span> .
<a name="l00368"></a>00368       <span class="stringliteral">"Host: $site\r\n"</span> .
<a name="l00369"></a>00369       <span class="stringliteral">"Connection: close\r\n"</span> .
<a name="l00370"></a>00370       ($user_agent ? <span class="stringliteral">"User-Agent: $user_agent\r\n"</span> : '') .
<a name="l00371"></a>00371       <span class="stringliteral">"Content-Type: text/xml\r\n"</span> .
<a name="l00372"></a>00372       <span class="stringliteral">"Content-Length: "</span> . strlen($data) . <span class="stringliteral">"\r\n\r\n"</span>;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     fputs($conn, <span class="stringliteral">"$headers"</span>);
<a name="l00375"></a>00375     fputs($conn, $data);
<a name="l00376"></a>00376 
<a name="l00377"></a>00377     <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00378"></a>00378       <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Sent the following request:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($headers . $data, 'print_r', <span class="keyword">true</span>));
<a name="l00379"></a>00379     }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 <span class="preprocessor">    #socket_set_blocking ($conn, false);</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span>    $response = <span class="stringliteral">""</span>;
<a name="l00383"></a>00383     <span class="keywordflow">while</span>(!feof($conn)){
<a name="l00384"></a>00384       $response .= fgets($conn, 1024);
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386     fclose($conn);
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 <span class="preprocessor">    #strip headers off of response</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>    $data = <a class="code" href="xmlrpc_8inc.html#ef8f3de498a12b230d049cdee6a25145">XML_unserialize</a>(substr($response, strpos($response, <span class="stringliteral">"\r\n\r\n"</span>)+4));
<a name="l00390"></a>00390 
<a name="l00391"></a>00391     <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00392"></a>00392       <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Received the following response:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($response, 'print_r', <span class="keyword">true</span>) . <span class="stringliteral">"&lt;p&gt;Which was serialized into the following data:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($data, 'print_r', <span class="keyword">true</span>));
<a name="l00393"></a>00393     }
<a name="l00394"></a>00394     <span class="keywordflow">if</span>(isset($data['methodResponse']['fault'])){
<a name="l00395"></a>00395       $return =  array(<span class="keyword">false</span>, <a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$data['methodResponse']['fault']['value']));
<a name="l00396"></a>00396       <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00397"></a>00397         <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Returning:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($return, 'var_dump', <span class="keyword">true</span>));
<a name="l00398"></a>00398       }
<a name="l00399"></a>00399       <span class="keywordflow">return</span> $return;
<a name="l00400"></a>00400     }<span class="keywordflow">else</span>{
<a name="l00401"></a>00401       $return = array(<span class="keyword">true</span>, <a class="code" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969">XMLRPC_adjustValue</a>(&amp;$data['methodResponse']['params']['param']['value']));
<a name="l00402"></a>00402       <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00403"></a>00403         <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3">XMLRPC_request</a>', <span class="stringliteral">"&lt;p&gt;Returning:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($return, 'var_dump', <span class="keyword">true</span>));
<a name="l00404"></a>00404       }
<a name="l00405"></a>00405       <span class="keywordflow">return</span> $return;
<a name="l00406"></a>00406     }
<a name="l00407"></a>00407   }
<a name="l00408"></a>00408 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_cgraph.png" border="0" usemap="#xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef" title="XML_serialize" alt="" coords="216,5,323,32"><area shape="rect" href="xmlrpc_8inc.html#ef8f3de498a12b230d049cdee6a25145" title="XML_unserialize" alt="" coords="208,56,331,83"><area shape="rect" href="xmlrpc_8inc.html#d936fe41ae9c3e0b90bd72ffe82a2969" title="XMLRPC_adjustValue" alt="" coords="191,107,348,133"><area shape="rect" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874" title="XMLRPC_debug" alt="" coords="207,157,332,184"><area shape="rect" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48" title="XMLRPC_show" alt="" coords="211,208,328,235"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_icgraph.png" border="0" usemap="#xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_3a98b6984b8ca01752d1aa9a267526a3_icgraph_map">
<area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="196,5,305,32"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="191,56,311,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c736d378caaccdd0726ea1080d1f526f"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_response" ref="c736d378caaccdd0726ea1080d1f526f" args="($return_value, $server=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_response           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>return_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>server</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00410">410</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00017">XML_serialize()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00469">XMLRPC_debug()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00486">XMLRPC_show()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00410"></a>00410                                                        {
<a name="l00411"></a>00411   $data[<span class="stringliteral">"methodResponse"</span>][<span class="stringliteral">"params"</span>][<span class="stringliteral">"param"</span>][<span class="stringliteral">"value"</span>] = &amp;$return_value;
<a name="l00412"></a>00412   $return = <a class="code" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef">XML_serialize</a>(&amp;$data);
<a name="l00413"></a>00413 
<a name="l00414"></a>00414   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00415"></a>00415     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f">XMLRPC_response</a>', <span class="stringliteral">"&lt;p&gt;Received the following data to return:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($return_value, 'print_r', <span class="keyword">true</span>));
<a name="l00416"></a>00416   }
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   header(<span class="stringliteral">"Connection: close"</span>);
<a name="l00419"></a>00419   header(<span class="stringliteral">"Content-Length: "</span> . strlen($return));
<a name="l00420"></a>00420   header(<span class="stringliteral">"Content-Type: text/xml"</span>);
<a name="l00421"></a>00421   header(<span class="stringliteral">"Date: "</span> . date(<span class="stringliteral">"r"</span>));
<a name="l00422"></a>00422   <span class="keywordflow">if</span>($server){
<a name="l00423"></a>00423     header(<span class="stringliteral">"Server: $server"</span>);
<a name="l00424"></a>00424   }
<a name="l00425"></a>00425 
<a name="l00426"></a>00426   <span class="keywordflow">if</span>(defined('XMLRPC_DEBUG') and XMLRPC_DEBUG){
<a name="l00427"></a>00427     <a class="code" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874">XMLRPC_debug</a>('<a class="code" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f">XMLRPC_response</a>', <span class="stringliteral">"&lt;p&gt;Sent the following response:&lt;/p&gt;\n\n"</span> . <a class="code" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48">XMLRPC_show</a>($return, 'print_r', <span class="keyword">true</span>));
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429   echo $return;
<a name="l00430"></a>00430 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_c736d378caaccdd0726ea1080d1f526f_cgraph.png" border="0" usemap="#xmlrpc_8inc_c736d378caaccdd0726ea1080d1f526f_cgraph_map" alt=""></center>
<map name="xmlrpc_8inc_c736d378caaccdd0726ea1080d1f526f_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#a1e9b05a06f28fabb86c10129f5890ef" title="XML_serialize" alt="" coords="207,5,313,32"><area shape="rect" href="xmlrpc_8inc.html#e2d2e97a8c1c560f5e96d58d60a02874" title="XMLRPC_debug" alt="" coords="197,56,323,83"><area shape="rect" href="xmlrpc_8inc.html#1f60d2672bcb35f5ff908f64931f8d48" title="XMLRPC_show" alt="" coords="201,107,319,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1f60d2672bcb35f5ff908f64931f8d48"></a><!-- doxytag: member="xmlrpc.inc::XMLRPC_show" ref="1f60d2672bcb35f5ff908f64931f8d48" args="($data, $func=&quot;print_r&quot;, $return_str=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XMLRPC_show           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>func</em> = <code>&quot;print_r&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>return_str</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00486">486</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00432">XMLRPC_error()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00166">XMLRPC_parse()</a>, <a class="el" href="xmlrpc_8inc-source.html#l00336">XMLRPC_request()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00410">XMLRPC_response()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00486"></a>00486                                                                    {
<a name="l00487"></a>00487   ob_start();
<a name="l00488"></a>00488   $func($data);
<a name="l00489"></a>00489   $output = ob_get_contents();
<a name="l00490"></a>00490   ob_end_clean();
<a name="l00491"></a>00491   <span class="keywordflow">if</span>($return_str){
<a name="l00492"></a>00492     <span class="keywordflow">return</span> <span class="stringliteral">"&lt;pre&gt;"</span> . htmlspecialchars($output) . <span class="stringliteral">"&lt;/pre&gt;\n"</span>;
<a name="l00493"></a>00493   }<span class="keywordflow">else</span>{
<a name="l00494"></a>00494     echo <span class="stringliteral">"&lt;pre&gt;"</span>, htmlspecialchars($output), <span class="stringliteral">"&lt;/pre&gt;\n"</span>;
<a name="l00495"></a>00495   }
<a name="l00496"></a>00496 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="xmlrpc_8inc_1f60d2672bcb35f5ff908f64931f8d48_icgraph.png" border="0" usemap="#xmlrpc_8inc_1f60d2672bcb35f5ff908f64931f8d48_icgraph_map" alt=""></center>
<map name="xmlrpc_8inc_1f60d2672bcb35f5ff908f64931f8d48_icgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#0cdc54b1376ccbbe412175c9819a95ac" title="XMLRPC_error" alt="" coords="187,5,304,32"><area shape="rect" href="xmlrpc_8inc.html#708b2136ca600664d2207a511b3cf3f8" title="XMLRPC_parse" alt="" coords="185,56,305,83"><area shape="rect" href="xmlrpc_8inc.html#3a98b6984b8ca01752d1aa9a267526a3" title="XMLRPC_request" alt="" coords="179,107,312,133"><area shape="rect" href="xmlrpc_8inc.html#c736d378caaccdd0726ea1080d1f526f" title="XMLRPC_response" alt="" coords="173,157,317,184"><area shape="rect" href="barcode_8inc.html#b34ec866d27061573a5fa623bf314fc1" title="checkBarcode" alt="" coords="372,81,481,108"><area shape="rect" href="barcode_8inc.html#e10c37e4f9f9b7c6617a388351a27c99" title="getBarcodeInfo" alt="" coords="367,132,487,159"></map>
</div>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 14 16:26:48 2008 for UPC Lookup by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
