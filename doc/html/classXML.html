<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>UPC Lookup: XML Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>XML Class Reference</h1><!-- doxytag: class="XML" -->
<p>
<a href="classXML-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#1475a1374023931e2227277f4047c9aa">XML</a> ($data=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#d1524d80c783b2cd22966462411b9b7d">destruct</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#61e6258dc3d5750100e1f0dd08d6334a">parse</a> ($data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#eac7eae74d866d4f5a0cdb9be27ff279">open</a> ($parser, $tag, $attributes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#ca70dfbd3e8ce956075181701b09b033">data</a> ($parser, $data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#60144a2134fc1b7f5b4b1b6a7c56bf04">close</a> ($parser, $tag)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#fa14fbca44236b30ab5f3dcfc4b02890">$parser</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#01d565098eeda8bf09e4242a2748d570">$document</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#7c20d75c1719294f3320a537a32753ca">$current</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#fa51193c2f0b317f817fa3efa8722227">$parent</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#c10be009a77c59e80ce5562d4dd35532">$parents</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXML.html#60e7e74df6643f50e0c6ea8252554b3d">$last_opened_tag</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00080">80</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1475a1374023931e2227277f4047c9aa"></a><!-- doxytag: member="XML::XML" ref="1475a1374023931e2227277f4047c9aa" args="($data=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::XML           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em> = <code>null</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00089">89</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00089"></a>00089                           {
<a name="l00090"></a>00090     $this-&gt;parser = xml_parser_create();
<a name="l00091"></a>00091 
<a name="l00092"></a>00092     xml_parser_set_option ($this-&gt;parser, XML_OPTION_CASE_FOLDING, 0);
<a name="l00093"></a>00093     xml_set_object($this-&gt;parser, &amp;$this);
<a name="l00094"></a>00094     xml_set_element_handler($this-&gt;parser, <span class="stringliteral">"open"</span>, <span class="stringliteral">"close"</span>);
<a name="l00095"></a>00095     xml_set_character_data_handler($this-&gt;parser, <span class="stringliteral">"data"</span>);
<a name="l00096"></a>00096 <span class="preprocessor">#   register_shutdown_function(array(&amp;$this, 'destruct'));</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>  }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d1524d80c783b2cd22966462411b9b7d"></a><!-- doxytag: member="XML::destruct" ref="d1524d80c783b2cd22966462411b9b7d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::destruct           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00099">99</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00099"></a>00099                      {
<a name="l00100"></a>00100     xml_parser_free($this-&gt;parser);
<a name="l00101"></a>00101   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="61e6258dc3d5750100e1f0dd08d6334a"></a><!-- doxytag: member="XML::parse" ref="61e6258dc3d5750100e1f0dd08d6334a" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::parse           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00103">103</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00103"></a>00103                        {
<a name="l00104"></a>00104     $this-&gt;document = array();
<a name="l00105"></a>00105     $this-&gt;parent = &amp;$this-&gt;document;
<a name="l00106"></a>00106     $this-&gt;parents = array();
<a name="l00107"></a>00107     $this-&gt;last_opened_tag = NULL;
<a name="l00108"></a>00108     xml_parse($this-&gt;parser, $data);
<a name="l00109"></a>00109     <span class="keywordflow">return</span> $this-&gt;document;
<a name="l00110"></a>00110   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="eac7eae74d866d4f5a0cdb9be27ff279"></a><!-- doxytag: member="XML::open" ref="eac7eae74d866d4f5a0cdb9be27ff279" args="($parser, $tag, $attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::open           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00112">112</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00473">count_numeric_items()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00149">data()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00112"></a>00112                                            {
<a name="l00113"></a>00113 <span class="preprocessor">    #echo "Opening tag $tag&lt;br&gt;\n";</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>    $this-&gt;<a class="code" href="classXML.html#ca70dfbd3e8ce956075181701b09b033">data</a> = <span class="stringliteral">""</span>;
<a name="l00115"></a>00115     $this-&gt;last_opened_tag = $tag; #tag is a <span class="keywordtype">string</span>
<a name="l00116"></a>00116     <span class="keywordflow">if</span>(array_key_exists($tag, $this-&gt;parent)){
<a name="l00117"></a>00117 <span class="preprocessor">      #echo "There's already an instance of '$tag' at the current level ($level)&lt;br&gt;\n";</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span>      <span class="keywordflow">if</span>(is_array($this-&gt;parent[$tag]) and array_key_exists(0, $this-&gt;parent[$tag])){ #<span class="keywordflow">if</span> the keys are numeric
<a name="l00119"></a>00119 <span class="preprocessor">        #need to make sure they're numeric (account for attributes)</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>        $key = <a class="code" href="xmlrpc_8inc.html#88839ba2c5c835c99f55578c65faa401">count_numeric_items</a>($this-&gt;parent[$tag]);
<a name="l00121"></a>00121 <span class="preprocessor">        #echo "There are $key instances: the keys are numeric.&lt;br&gt;\n";</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span>      }<span class="keywordflow">else</span>{
<a name="l00123"></a>00123 <span class="preprocessor">        #echo "There is only one instance. Shifting everything around&lt;br&gt;\n";</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>        $temp = &amp;$this-&gt;parent[$tag];
<a name="l00125"></a>00125         unset($this-&gt;parent[$tag]);
<a name="l00126"></a>00126         $this-&gt;parent[$tag][0] = &amp;$temp;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="keywordflow">if</span>(array_key_exists(<span class="stringliteral">"$tag attr"</span>, $this-&gt;parent)){
<a name="l00129"></a>00129 <span class="preprocessor">          #shift the attributes around too if they exist</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>          $temp = &amp;$this-&gt;parent[<span class="stringliteral">"$tag attr"</span>];
<a name="l00131"></a>00131           unset($this-&gt;parent[<span class="stringliteral">"$tag attr"</span>]);
<a name="l00132"></a>00132           $this-&gt;parent[$tag][<span class="stringliteral">"0 attr"</span>] = &amp;$temp;
<a name="l00133"></a>00133         }
<a name="l00134"></a>00134         $key = 1;
<a name="l00135"></a>00135       }
<a name="l00136"></a>00136       $this-&gt;parent = &amp;$this-&gt;parent[$tag];
<a name="l00137"></a>00137     }<span class="keywordflow">else</span>{
<a name="l00138"></a>00138       $key = $tag;
<a name="l00139"></a>00139     }
<a name="l00140"></a>00140     <span class="keywordflow">if</span>($attributes){
<a name="l00141"></a>00141       $this-&gt;parent[<span class="stringliteral">"$key attr"</span>] = $attributes;
<a name="l00142"></a>00142     }
<a name="l00143"></a>00143 
<a name="l00144"></a>00144     $this-&gt;parent[$key] = array();
<a name="l00145"></a>00145     $this-&gt;parent = &amp;$this-&gt;parent[$key];
<a name="l00146"></a>00146     array_unshift($this-&gt;parents, &amp;$this-&gt;parent);
<a name="l00147"></a>00147   }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classXML_eac7eae74d866d4f5a0cdb9be27ff279_cgraph.png" border="0" usemap="#classXML_eac7eae74d866d4f5a0cdb9be27ff279_cgraph_map" alt=""></center>
<map name="classXML_eac7eae74d866d4f5a0cdb9be27ff279_cgraph_map">
<area shape="rect" href="xmlrpc_8inc.html#88839ba2c5c835c99f55578c65faa401" title="count_numeric_items" alt="" coords="145,5,303,32"><area shape="rect" href="classXML.html#ca70dfbd3e8ce956075181701b09b033" title="XML::data" alt="" coords="181,56,267,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ca70dfbd3e8ce956075181701b09b033"></a><!-- doxytag: member="XML::data" ref="ca70dfbd3e8ce956075181701b09b033" args="($parser, $data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::data           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00149">149</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>Referenced by <a class="el" href="xmlrpc_8inc-source.html#l00156">close()</a>, and <a class="el" href="xmlrpc_8inc-source.html#l00112">open()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00149"></a>00149                                {
<a name="l00150"></a>00150 <span class="preprocessor">    #echo "Data is '", htmlspecialchars($data), "'&lt;br&gt;\n";</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span>    <span class="keywordflow">if</span>($this-&gt;last_opened_tag != NULL){
<a name="l00152"></a>00152       $this-&gt;<a class="code" href="classXML.html#ca70dfbd3e8ce956075181701b09b033">data</a> .= $data;
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="60144a2134fc1b7f5b4b1b6a7c56bf04"></a><!-- doxytag: member="XML::close" ref="60144a2134fc1b7f5b4b1b6a7c56bf04" args="($parser, $tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::close           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00156">156</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

<p>References <a class="el" href="xmlrpc_8inc-source.html#l00149">data()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00156"></a>00156                                {
<a name="l00157"></a>00157 <span class="preprocessor">    #echo "Close tag $tag&lt;br&gt;\n";</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>    <span class="keywordflow">if</span>($this-&gt;last_opened_tag == $tag){
<a name="l00159"></a>00159       $this-&gt;parent = $this-&gt;<a class="code" href="classXML.html#ca70dfbd3e8ce956075181701b09b033">data</a>;
<a name="l00160"></a>00160       $this-&gt;last_opened_tag = NULL;
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162     array_shift($this-&gt;parents);
<a name="l00163"></a>00163     $this-&gt;parent = &amp;$this-&gt;parents[0];
<a name="l00164"></a>00164   }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classXML_60144a2134fc1b7f5b4b1b6a7c56bf04_cgraph.png" border="0" usemap="#classXML_60144a2134fc1b7f5b4b1b6a7c56bf04_cgraph_map" alt=""></center>
<map name="classXML_60144a2134fc1b7f5b4b1b6a7c56bf04_cgraph_map">
<area shape="rect" href="classXML.html#ca70dfbd3e8ce956075181701b09b033" title="XML::data" alt="" coords="145,5,231,32"></map>
</div>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="fa14fbca44236b30ab5f3dcfc4b02890"></a><!-- doxytag: member="XML::$parser" ref="fa14fbca44236b30ab5f3dcfc4b02890" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$parser          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00081">81</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<a class="anchor" name="01d565098eeda8bf09e4242a2748d570"></a><!-- doxytag: member="XML::$document" ref="01d565098eeda8bf09e4242a2748d570" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$document          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00082">82</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<a class="anchor" name="7c20d75c1719294f3320a537a32753ca"></a><!-- doxytag: member="XML::$current" ref="7c20d75c1719294f3320a537a32753ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$current          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00083">83</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<a class="anchor" name="fa51193c2f0b317f817fa3efa8722227"></a><!-- doxytag: member="XML::$parent" ref="fa51193c2f0b317f817fa3efa8722227" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$parent          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00084">84</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<a class="anchor" name="c10be009a77c59e80ce5562d4dd35532"></a><!-- doxytag: member="XML::$parents" ref="c10be009a77c59e80ce5562d4dd35532" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$parents          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00085">85</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<a class="anchor" name="60e7e74df6643f50e0c6ea8252554b3d"></a><!-- doxytag: member="XML::$last_opened_tag" ref="60e7e74df6643f50e0c6ea8252554b3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XML::$last_opened_tag          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xmlrpc_8inc-source.html#l00087">87</a> of file <a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="xmlrpc_8inc-source.html">xmlrpc.inc</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Apr 26 14:36:35 2008 for UPC Lookup by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
